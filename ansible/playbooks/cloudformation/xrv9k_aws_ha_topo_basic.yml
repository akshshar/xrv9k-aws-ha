AWSTemplateFormatVersion: 2010-09-09
Metadata:
  'AWS::CloudFormation::Designer':
    88fa615f-7921-42b1-afe5-aac03574b4c5:
      size:
        width: 60
        height: 60
      position:
        x: 660
        'y': 130
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 83a21636-ede0-4366-95e8-15a29039b97d
        - c0682a11-bf82-4ab4-b409-a3acb7cb0902
        - 91648938-aca7-4906-bd30-449ee2b91690
    021e398f-0bf7-40ff-9ec2-512fe8baafb7:
      size:
        width: 1080
        height: 670
      position:
        x: 290
        'y': -30
      z: 0
      embeds:
        - fcebf568-a8f9-415c-b201-81f41ab69fef
        - 7bf50182-57b1-43f0-a74e-057b64ca6d3c
        - c625959b-5071-4c8a-95c8-a362cc77fa30
        - 33ed65e7-aeea-48e5-9682-5707f8068d4e
        - ead94ae3-8f14-4fa4-993d-502b1f908ec7
        - 13bdb1a6-1209-4ada-8362-b12c50a412d2
        - 9aa75fd2-b8e1-4ca3-8e88-9d6a3e7797b7
        - ea8332e7-0cb8-42d6-8b6b-f1e4211b8b6a
        - 91648938-aca7-4906-bd30-449ee2b91690
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 83a21636-ede0-4366-95e8-15a29039b97d
        - 06904afe-9f6f-4ad1-99f8-dc8de96b3c75
        - e4f0fb86-9a19-4d07-9a40-d501aaa46592
        - c0038f83-7929-47d7-bb80-8299f0e993de
        - 8ecd7e2a-9d15-464d-8205-49a1fc0be282
        - f26e817e-a232-47e8-845e-0415e4473ecb
        - c0682a11-bf82-4ab4-b409-a3acb7cb0902
        - 88fa615f-7921-42b1-afe5-aac03574b4c5
        - ee1a6b14-bc32-4955-9249-8eb46efeb557
      dependson:
        - 4b19d30e-231d-4b10-8d31-2776bbec2ef4
    06904afe-9f6f-4ad1-99f8-dc8de96b3c75:
      size:
        width: 80
        height: 80
      position:
        x: 440
        'y': 240
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      dependson:
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
    c0038f83-7929-47d7-bb80-8299f0e993de:
      size:
        width: 60
        height: 60
      position:
        x: 1140
        'y': 130
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 83a21636-ede0-4366-95e8-15a29039b97d
        - e4f0fb86-9a19-4d07-9a40-d501aaa46592
        - 9aa75fd2-b8e1-4ca3-8e88-9d6a3e7797b7
      dependson:
        - 99d3cc77-08fa-4b9a-bcf7-93c24dacac04
    f26e817e-a232-47e8-845e-0415e4473ecb:
      size:
        width: 60
        height: 60
      position:
        x: 940
        'y': 460
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 83a21636-ede0-4366-95e8-15a29039b97d
        - 8ecd7e2a-9d15-464d-8205-49a1fc0be282
        - ea8332e7-0cb8-42d6-8b6b-f1e4211b8b6a
    83a21636-ede0-4366-95e8-15a29039b97d:
      size:
        width: 60
        height: 60
      position:
        x: 790
        'y': 160
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      iscontainedinside:
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
    2af34241-c3e2-41cc-925e-d891506def35:
      size:
        width: 60
        height: 60
      position:
        x: 150
        'y': 140
      z: 0
      embeds: []
    0b422d2d-1f5c-466c-97ad-2cf9bd1a8884:
      source:
        id: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      target:
        id: 2af34241-c3e2-41cc-925e-d891506def35
      z: 0
    76970571-72f4-46e4-8357-f1593c29006d:
      size:
        width: 140
        height: 122.98828136920929
      position:
        x: 470
        'y': 410
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds:
        - 99d3cc77-08fa-4b9a-bcf7-93c24dacac04
      iscontainedinside:
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
    99d3cc77-08fa-4b9a-bcf7-93c24dacac04:
      size:
        width: 60
        height: 60
      position:
        x: 491.40641686003806
        'y': 442.511439424401
      z: 2
      parent: 76970571-72f4-46e4-8357-f1593c29006d
      embeds: []
      iscontainedinside:
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 76970571-72f4-46e4-8357-f1593c29006d
      dependson:
        - 2af34241-c3e2-41cc-925e-d891506def35
    052e70fa-be8b-4a85-a428-24f776d95dda:
      source:
        id: 76970571-72f4-46e4-8357-f1593c29006d
      target:
        id: 06904afe-9f6f-4ad1-99f8-dc8de96b3c75
      z: 1
    91648938-aca7-4906-bd30-449ee2b91690:
      size:
        width: 60
        height: 60
      position:
        x: 700
        'y': 270
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 33ed65e7-aeea-48e5-9682-5707f8068d4e
      iscontainedinside:
        - ead94ae3-8f14-4fa4-993d-502b1f908ec7
    ea8332e7-0cb8-42d6-8b6b-f1e4211b8b6a:
      size:
        width: 60
        height: 60
      position:
        x: 840
        'y': 380
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 33ed65e7-aeea-48e5-9682-5707f8068d4e
      iscontainedinside:
        - ead94ae3-8f14-4fa4-993d-502b1f908ec7
    9aa75fd2-b8e1-4ca3-8e88-9d6a3e7797b7:
      size:
        width: 60
        height: 60
      position:
        x: 1020
        'y': 280
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 33ed65e7-aeea-48e5-9682-5707f8068d4e
      iscontainedinside:
        - ead94ae3-8f14-4fa4-993d-502b1f908ec7
    ead94ae3-8f14-4fa4-993d-502b1f908ec7:
      size:
        width: 80
        height: 80
      position:
        x: 830
        'y': 260
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      iscontainedinside:
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
    33ed65e7-aeea-48e5-9682-5707f8068d4e:
      size:
        width: 60
        height: 60
      position:
        x: 680
        'y': 400
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      iscontainedinside:
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
    13bdb1a6-1209-4ada-8362-b12c50a412d2:
      size:
        width: 60
        height: 60
      position:
        x: 340
        'y': 420
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      iscontainedinside:
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 76970571-72f4-46e4-8357-f1593c29006d
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
        - 021e398f-0bf7-40ff-9ec2-512fe8baafb7
    fcebf568-a8f9-415c-b201-81f41ab69fef:
      size:
        width: 60
        height: 60
      position:
        x: 740
        'y': 20
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - c625959b-5071-4c8a-95c8-a362cc77fa30
    c625959b-5071-4c8a-95c8-a362cc77fa30:
      size:
        width: 60
        height: 60
      position:
        x: 890
        'y': 20
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - fcebf568-a8f9-415c-b201-81f41ab69fef
    7bf50182-57b1-43f0-a74e-057b64ca6d3c:
      size:
        width: 60
        height: 60
      position:
        x: 610
        'y': 20
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - fcebf568-a8f9-415c-b201-81f41ab69fef
    c0682a11-bf82-4ab4-b409-a3acb7cb0902:
      size:
        width: 60
        height: 60
      position:
        x: 560
        'y': 130
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 83a21636-ede0-4366-95e8-15a29039b97d
      iscontainedinside:
        - 06904afe-9f6f-4ad1-99f8-dc8de96b3c75
    8ecd7e2a-9d15-464d-8205-49a1fc0be282:
      size:
        width: 60
        height: 60
      position:
        x: 790
        'y': 540
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 83a21636-ede0-4366-95e8-15a29039b97d
      iscontainedinside:
        - 06904afe-9f6f-4ad1-99f8-dc8de96b3c75
    e4f0fb86-9a19-4d07-9a40-d501aaa46592:
      size:
        width: 60
        height: 60
      position:
        x: 1020
        'y': 10
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      embeds: []
      isassociatedwith:
        - 83a21636-ede0-4366-95e8-15a29039b97d
      iscontainedinside:
        - 06904afe-9f6f-4ad1-99f8-dc8de96b3c75
    ee1a6b14-bc32-4955-9249-8eb46efeb557:
      size:
        width: 60
        height: 60
      position:
        x: 401.55068588186697
        'y': 113.62049278388186
      z: 1
      parent: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
      iscontainedinside:
        - 06904afe-9f6f-4ad1-99f8-dc8de96b3c75
    112d20ce-6ef4-43c9-837d-25d39623350b:
      source:
        id: ee1a6b14-bc32-4955-9249-8eb46efeb557
      target:
        id: 06904afe-9f6f-4ad1-99f8-dc8de96b3c75
      z: 3
Mappings:
  xrv9kAMIs:
    us-east-1:
      Name: ami-06232d0e671851bd7
    us-west-2:
      Name: ami-00f82c267822a81b8
  LinuxAMIs:
    us-east-1:
      Name: ami-0d5eff06f840b45e9
    us-west-2:
      Name: ami-0cf6f5c8a62fa5da6
Resources:
  Xrv9kRtr1:
    Type: 'AWS::EC2::Instance'
    Properties:
      InstanceType: m5zn.xlarge
      KeyName: cloudformation-key
      ImageId: !FindInMap 
        - xrv9kAMIs
        - !Ref 'AWS::Region'
        - Name
      IamInstanceProfile: !Ref IamEc2RoleInstanceProfile
      NetworkInterfaces:
        - DeviceIndex: '0'
          NetworkInterfaceId: !Ref Xrv9kRtr1Intf1
        - DeviceIndex: '1'
          NetworkInterfaceId: !Ref Xrv9kRtr1Intf2
      Tags:
        - Key: Name
          Value: xrv9kHaRtr1CF
      UserData:
        'Fn::Base64': !Sub |
          !! IOS XR Configuration
          !
          hostname rtr1
          !
          username root
           group root-lr
           group cisco-support
          !
           lpts pifib hardware police
            flow ssh known rate 15000
            flow ssh default rate 15000
          !
          tpa
           vrf default
            address-family ipv4
             update-source dataports TenGigE0/0/0/0
            !
           !
          !
          !
          bfd
            echo disable
            !
          !
          grpc
           port 57777
           no-tls
           service-layer
           !
          !
          call-home
           service active
           contact smart-licensing
           profile CiscoTAC-1
            active
            destination transport-method http
           !
          !
          interface TenGigE0/0/0/0
           ipv4 address 10.0.0.10 255.255.255.0
           no shutdown
          !
          interface TenGigE0/0/0/1
           ipv4 address 10.0.1.10 255.255.255.0
           ipv4 address 10.0.1.40 255.255.255.0 secondary
           no shutdown
          !
          router static
           address-family ipv4 unicast
            0.0.0.0/0 10.0.0.1
           !
          !
          ssh server v2
          ssh server vrf default
          end
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 88fa615f-7921-42b1-afe5-aac03574b4c5
  Xrv9kHaVPC:
    Type: 'AWS::EC2::VPC'
    Properties:
      EnableDnsSupport: 'true'
      EnableDnsHostnames: 'true'
      CidrBlock: 10.0.0.0/16
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 021e398f-0bf7-40ff-9ec2-512fe8baafb7
  Xrv9kHaMgmtSubnet:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref Xrv9kHaVPC
      CidrBlock: 10.0.0.0/24
      AvailabilityZone: 
        Fn::Select: 
          - 0
          - Fn::GetAZs:
                Ref: "AWS::Region"
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 06904afe-9f6f-4ad1-99f8-dc8de96b3c75
    DependsOn:
      - Xrv9kHaVPC
  Xrv9kRtr2:
    Type: 'AWS::EC2::Instance'
    Properties:
      InstanceType: m5zn.xlarge
      KeyName: cloudformation-key
      ImageId: !FindInMap 
        - xrv9kAMIs
        - !Ref 'AWS::Region'
        - Name
      IamInstanceProfile: !Ref IamEc2RoleInstanceProfile
      NetworkInterfaces:
        - DeviceIndex: '0'
          NetworkInterfaceId: !Ref Xrv9kRtr2Intf1
        - DeviceIndex: '1'
          NetworkInterfaceId: !Ref Xrv9kRtr2Intf2
      Tags:
        - Key: Name
          Value: xrv9kHaRtr2CF
      UserData:
        'Fn::Base64': !Sub |
          !! IOS XR Configuration
          !
          hostname rtr2
          !
          username root
           group root-lr
           group cisco-support
          !
           lpts pifib hardware police
            flow ssh known rate 15000
            flow ssh default rate 15000
          !
          tpa
           vrf default
            address-family ipv4
             update-source dataports TenGigE0/0/0/0
            !
           !
          !
          !
          bfd
            echo disable
            !
          !
          grpc
           port 57777
           no-tls
           service-layer
           !
          !
          call-home
           service active
           contact smart-licensing
           profile CiscoTAC-1
            active
            destination transport-method http
           !
          !
          interface TenGigE0/0/0/0
           ipv4 address 10.0.0.20 255.255.255.0
           no shutdown
          !
          interface TenGigE0/0/0/1
           ipv4 address 10.0.1.20 255.255.255.0
           ipv4 address 10.0.1.40 255.255.255.0 secondary
           no shutdown
          !
          router static
           address-family ipv4 unicast
            0.0.0.0/0 10.0.0.1
           !
          !
          ssh server v2
          ssh server vrf default
          end
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c0038f83-7929-47d7-bb80-8299f0e993de
  DownstreamLnxInstance:
    Type: 'AWS::EC2::Instance'
    Properties:
      InstanceType: m4.large
      KeyName: cloudformation-key
      ImageId: !FindInMap 
        - LinuxAMIs
        - !Ref 'AWS::Region'
        - Name
      NetworkInterfaces:
        - DeviceIndex: '0'
          NetworkInterfaceId: !Ref DwnStrmInstanceIntf1
        - DeviceIndex: '1'
          NetworkInterfaceId: !Ref DwnStrmInstanceIntf2
      Tags:
        - Key: Name
          Value: DwnStrmInstanceHaCF
    Metadata:
      'AWS::CloudFormation::Designer':
        id: f26e817e-a232-47e8-845e-0415e4473ecb
  Xrv9kHaMgmtSG:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      VpcId: !Ref Xrv9kHaVPC
      GroupDescription: Allow access from SSH traffic
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: '22'
          ToPort: '22'
          CidrIp: 0.0.0.0/0
        - IpProtocol: tcp
          FromPort: '2201'
          ToPort: '2201'
          CidrIp: 0.0.0.0/0
        - IpProtocol: tcp
          FromPort: '2202'
          ToPort: '2202'
          CidrIp: 0.0.0.0/0
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 83a21636-ede0-4366-95e8-15a29039b97d
  Xrv9kHaInternetGW:
    Type: 'AWS::EC2::InternetGateway'
    Properties: {}
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 2af34241-c3e2-41cc-925e-d891506def35
  EC2VPCG4LSFP:
    Type: 'AWS::EC2::VPCGatewayAttachment'
    Properties:
      InternetGatewayId: !Ref Xrv9kHaInternetGW
      VpcId: !Ref Xrv9kHaVPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 0b422d2d-1f5c-466c-97ad-2cf9bd1a8884
  EC2RT3BCDJ:
    Type: 'AWS::EC2::RouteTable'
    Properties:
      VpcId: !Ref Xrv9kHaVPC
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 76970571-72f4-46e4-8357-f1593c29006d
  EC2R37ZIQ:
    Type: 'AWS::EC2::Route'
    Properties:
      RouteTableId: !Ref EC2RT3BCDJ
      GatewayId: !Ref Xrv9kHaInternetGW
      DestinationCidrBlock: 0.0.0.0/0
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 99d3cc77-08fa-4b9a-bcf7-93c24dacac04
    DependsOn:
      - Xrv9kHaInternetGW
  Xrv9kHaMgmtRtAssociation:
    Type: 'AWS::EC2::SubnetRouteTableAssociation'
    Properties:
      RouteTableId: !Ref EC2RT3BCDJ
      SubnetId: !Ref Xrv9kHaMgmtSubnet
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 052e70fa-be8b-4a85-a428-24f776d95dda
  Xrv9kRtr1Intf2:
    Type: 'AWS::EC2::NetworkInterface'
    Properties:
      SubnetId: !Ref Xrv9kHaBFDsubnet
      PrivateIpAddresses:
        - PrivateIpAddress: 10.0.1.10
          Primary: 'true'
        - PrivateIpAddress: 10.0.1.40
          Primary: 'false'
      GroupSet:
        - !Ref Xrv9kHaBFDsubnetSG
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 91648938-aca7-4906-bd30-449ee2b91690
  DwnStrmInstanceIntf2:
    Type: 'AWS::EC2::NetworkInterface'
    Properties:
      SubnetId: !Ref Xrv9kHaBFDsubnet
      PrivateIpAddress: 10.0.1.30
      GroupSet:
        - !Ref Xrv9kHaBFDsubnetSG
    Metadata:
      'AWS::CloudFormation::Designer':
        id: ea8332e7-0cb8-42d6-8b6b-f1e4211b8b6a
  Xrv9kRtr2Intf2:
    Type: 'AWS::EC2::NetworkInterface'
    Properties:
      SubnetId: !Ref Xrv9kHaBFDsubnet
      PrivateIpAddress: 10.0.1.20
      GroupSet:
        - !Ref Xrv9kHaBFDsubnetSG
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 9aa75fd2-b8e1-4ca3-8e88-9d6a3e7797b7
  Xrv9kHaBFDsubnet:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref Xrv9kHaVPC
      CidrBlock: 10.0.1.0/24
      AvailabilityZone: 
        Fn::Select: 
          - 0
          - Fn::GetAZs:
                Ref: "AWS::Region"
    Metadata:
      'AWS::CloudFormation::Designer':
        id: ead94ae3-8f14-4fa4-993d-502b1f908ec7
  Xrv9kHaBFDsubnetSG:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      VpcId: !Ref Xrv9kHaVPC
      GroupDescription: Allow access for All traffic
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: '22'
          ToPort: '22'
          CidrIp: 0.0.0.0/0
        - IpProtocol: '-1'
          CidrIp: 10.0.1.0/24
        - IpProtocol: icmp
          FromPort: '-1'
          ToPort: '-1'
          CidrIp: 10.0.1.0/24
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 33ed65e7-aeea-48e5-9682-5707f8068d4e
  Ec2AccessIntfEndpoint:
    Type: 'AWS::EC2::VPCEndpoint'
    Properties:
      VpcId: !Ref Xrv9kHaVPC
      SubnetIds:
        - !Ref Xrv9kHaBFDsubnet
      SecurityGroupIds:
        - !Ref Xrv9kHaBFDsubnetSG
      VpcEndpointType: Interface
      PrivateDnsEnabled: true
      PolicyDocument:
        Version: 2012-10-17
        Statement:
          - Effect: Allow
            Principal: '*'
            Action: '*'
            Resource: '*'
      ServiceName: !Sub 'com.amazonaws.${AWS::Region}.ec2'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 13bdb1a6-1209-4ada-8362-b12c50a412d2
  IamEc2AccessRole:
    Type: 'AWS::IAM::Role'
    Properties:
      AssumeRolePolicyDocument:
        Version: 2012-10-17
        Statement:
          - Effect: Allow
            Principal:
              Service:
                - ec2.amazonaws.com
            Action:
              - 'sts:AssumeRole'
    Metadata:
      'AWS::CloudFormation::Designer':
        id: fcebf568-a8f9-415c-b201-81f41ab69fef
  IamEc2AccessPolicy:
    Type: 'AWS::IAM::Policy'
    Properties:
      PolicyName: EC2PrivateAccess
      PolicyDocument:
        Statement:
          - Effect: Allow
            Action:
              - 'ec2:*'
            Resource: '*'
      Roles:
        - !Ref IamEc2AccessRole
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c625959b-5071-4c8a-95c8-a362cc77fa30
  IamEc2RoleInstanceProfile:
    Type: 'AWS::IAM::InstanceProfile'
    Properties:
      Path: /
      Roles:
        - !Ref IamEc2AccessRole
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 7bf50182-57b1-43f0-a74e-057b64ca6d3c
  Xrv9kRtr1Intf1:
    Type: 'AWS::EC2::NetworkInterface'
    Properties:
      GroupSet:
        - !Ref Xrv9kHaMgmtSG
      PrivateIpAddress: 10.0.0.10
      SubnetId: !Ref Xrv9kHaMgmtSubnet
    Metadata:
      'AWS::CloudFormation::Designer':
        id: c0682a11-bf82-4ab4-b409-a3acb7cb0902
  DwnStrmInstanceIntf1:
    Type: 'AWS::EC2::NetworkInterface'
    Properties:
      GroupSet:
        - !Ref Xrv9kHaMgmtSG
      PrivateIpAddress: 10.0.0.30
      SubnetId: !Ref Xrv9kHaMgmtSubnet
    Metadata:
      'AWS::CloudFormation::Designer':
        id: 8ecd7e2a-9d15-464d-8205-49a1fc0be282
  Xrv9kRtr2Intf1:
    Type: 'AWS::EC2::NetworkInterface'
    Properties:
      GroupSet:
        - !Ref Xrv9kHaMgmtSG
      PrivateIpAddress: 10.0.0.20
      SubnetId: !Ref Xrv9kHaMgmtSubnet
    Metadata:
      'AWS::CloudFormation::Designer':
        id: e4f0fb86-9a19-4d07-9a40-d501aaa46592
  Bastion:
    Type: 'AWS::EC2::Instance'
    Properties:
      InstanceType: m4.large
      KeyName: cloudformation-key
      ImageId: !FindInMap 
        - LinuxAMIs
        - !Ref 'AWS::Region'
        - Name
      NetworkInterfaces:
        - DeleteOnTermination: true
          Description: Primary network interface
          DeviceIndex: '0'
          GroupSet:
            - !Ref Xrv9kHaMgmtSG
          AssociatePublicIpAddress: true
          SubnetId: !Ref Xrv9kHaMgmtSubnet
      Tags:
        - Key: Name
          Value: Bastion
    Metadata:
      'AWS::CloudFormation::Designer':
        id: ee1a6b14-bc32-4955-9249-8eb46efeb557
